# Activity 四种启动模式/生命周期及其区别

## 生命周期
  - `onCreate()`：创建新的活动实例。
  - `onStart()`：活动变得可见但尚未出现在前台。
  - `onResume()`：活动出现在前台并可与用户交互。
  - `onPause()`：活动失去焦点但仍然可见。
  - `onStop()`：活动不再可见。
  - `onDestroy()`：活动被销毁。
  - `onRestart()`：在活动由停止状态重新启动时调用。

## 四种启动模式
### Standard 模式
- **生命周期**：每次启动活动都会创建一个新的实例。
- **区别**：每次启动活动都会创建一个新的实例。

### SingleTop 模式
- **生命周期**：若活动实例已存在于任务的顶部，则不会创建新的实例，而是调用现有实例的 `onNewIntent()` 方法。(即栈顶复用)
- **区别**：如果活动已存在于任务顶部，则不会创建新的实例。

### SingleTask 模式
- **生命周期**：如果任务中已存在该活动的实例，则系统会将任务移到该实例上并调用其 `onNewIntent()` 方法；否则，系统会创建新的实例。(即栈内复用)
- **区别**：无论是否已存在该活动的实例，新的 `startActivity()` 调用都不会创建新的实例。

### SingleInstance 模式
- **生命周期**：单独位于一个新的任务中，且在这个任务中只有一个活动实例。(即单实例模式)
- **区别**：每次启动活动都会创建一个新的任务，并将该活动实例放置在新的任务中。

# Service 生命周期

## startService()

- **onCreate()**：
    - 当服务首次启动时调用。
    - 用于执行一次性的初始化操作。

- **onStartCommand(Intent, int, int)**：
    - 当通过 `startService()` 启动服务时调用。
    - 服务启动后会一直运行，直到调用 `stopService()` 或 `stopSelf()` 停止服务。

- **onDestroy()**：
    - 当服务被销毁时调用。
    - 用于执行清理操作，释放资源等。

## bindService()

- **onCreate()**：
    - 当第一个组件通过 `bindService()` 方法绑定到服务时调用。
    - 用于执行一次性的初始化操作。

- **onBind(Intent)**：
    - 当组件通过 `bindService()` 方法绑定到服务时调用。
    - 返回一个 `IBinder` 对象，用于与客户端进行通信。

- **onUnbind(Intent)**：
    - 当所有绑定到服务的组件调用 `unbindService()` 解除绑定时调用。
    - 用于执行清理操作，释放资源等。

- **onRebind(Intent)**：
    - 当之前解除绑定的组件再次调用 `bindService()` 方法重新绑定到服务时调用。
    - 用于执行重新初始化的操作。

- **onDestroy()**：
    - 当最后一个组件通过 `unbindService()` 解除绑定后调用。
    - 用于执行清理操作，释放资源等。
